---
title: Agents
description: Create custom AI agents for specialized tasks
---

Agents are specialized AI assistants with specific capabilities and instructions. Create custom agents for tasks like data import, report generation, or domain-specific analysis.

## Built-in agents

Hands includes several built-in agents:

| Agent | Purpose |
|-------|---------|
| `@import` | Data import and schema inference |
| `@query` | SQL query generation and optimization |
| `@dashboard` | Dashboard and chart creation |
| `@debug` | Troubleshooting and error analysis |

Use them by mentioning in chat:

```
@import Load the users.csv file
@query Find the top 10 products by revenue
@dashboard Create a sales overview
```

## Creating custom agents

Create agents as markdown files in `.opencode/agent/`:

```markdown
<!-- .opencode/agent/sales-analyst.md -->
---
description: Analyzes sales data and generates insights
mode: subagent
tools:
  write: false
  bash: false
---

You are a sales analyst assistant. You help users understand their sales data.

When analyzing data:
- Focus on trends and patterns
- Compare to previous periods
- Highlight anomalies
- Suggest actionable insights

Always explain your findings in business terms, not technical jargon.
```

## Agent configuration

### Frontmatter options

```yaml
---
description: Brief description shown in agent list
mode: subagent          # or 'main' for replacement
model: anthropic/claude-sonnet-4-20250514  # Override model
temperature: 0.1        # Lower = more focused
tools:
  write: true           # Can write files
  bash: true            # Can run commands
  sql: true             # Can query database
permission:
  bash:
    "*": "allow"        # Permission for bash commands
---
```

### Tool permissions

Control what agents can do:

```yaml
tools:
  write: false    # Cannot modify files
  bash: false     # Cannot run shell commands
  sql: true       # Can query database (read-only by default)
```

### Temperature

Adjust creativity vs. precision:

- `0.0-0.3` - Precise, deterministic (good for code)
- `0.4-0.7` - Balanced (default)
- `0.8-1.0` - Creative, varied (good for brainstorming)

## Agent examples

### Data quality checker

```markdown
<!-- .opencode/agent/data-quality.md -->
---
description: Checks data quality and suggests fixes
tools:
  sql: true
  write: false
---

You are a data quality analyst. When given a table name:

1. Check for null values in each column
2. Find duplicates on key columns
3. Identify outliers in numeric columns
4. Check for invalid formats (emails, dates, etc.)
5. Generate a quality report

SQL patterns to use:
- NULL check: `SELECT column, COUNT(*) FROM table WHERE column IS NULL`
- Duplicates: `SELECT column, COUNT(*) FROM table GROUP BY column HAVING COUNT(*) > 1`
- Outliers: Use stddev and percentiles
```

### Report generator

```markdown
<!-- .opencode/agent/weekly-report.md -->
---
description: Generates weekly business reports
tools:
  sql: true
  write: true
---

You generate weekly business reports. When asked:

1. Query last 7 days of key metrics
2. Compare to previous week
3. Highlight significant changes
4. Create a markdown report

Report sections:
- Executive Summary
- Key Metrics (revenue, orders, users)
- Trends and Patterns
- Recommendations

Save reports to `reports/weekly-{date}.md`
```

### Schema explainer

```markdown
<!-- .opencode/agent/schema.md -->
---
description: Explains database schema in plain English
tools:
  sql: true
  write: false
temperature: 0.3
---

You explain database schemas to non-technical users.

When asked about a table:
1. Describe what it stores in business terms
2. Explain each column's purpose
3. Show relationships to other tables
4. Give examples of common queries

Use simple language. Avoid technical jargon.
```

## Using agents

### In chat

```
@sales-analyst What were our top performing categories last quarter?

@data-quality Check the customers table

@weekly-report Generate the report for this week
```

### Programmatically

```typescript
import { agent } from '@hands/stdlib';

const result = await agent('sales-analyst', {
  prompt: 'Analyze Q4 performance'
});
```

## Agent chaining

Agents can call other agents:

```
@import the sales data, then @data-quality check it, then @sales-analyst summarize the findings
```

## Best practices

1. **Single responsibility** - Each agent should do one thing well
2. **Clear instructions** - Be specific about what the agent should do
3. **Limit permissions** - Only grant necessary tools
4. **Provide examples** - Show expected output format
5. **Test thoroughly** - Agents can behave unexpectedly

## Next steps

- Learn about [Tools](/ai/tools/) agents can use
- See the [stdlib reference](/stdlib/overview/)
