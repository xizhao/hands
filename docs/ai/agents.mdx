---
title: AI Agents
description: "Specialized AI personas for specific tasks"
---

# AI Agents

Agents are specialized AI configurations optimized for specific tasks. They have custom instructions, tool access, and behaviors.

## Using Agents

Invoke an agent with the `@` prefix:

```
@import /path/to/data.csv
```

The agent takes over for that task, using its specialized knowledge.

## Built-in Agents

### @import

The import agent specializes in data ingestion.

```
@import /path/to/sales.csv

@import /path/to/data.json as customers

@import https://api.example.com/data
```

**Capabilities:**
- Analyzes file structure
- Infers optimal data types
- Creates database tables
- Handles large files efficiently
- Supports CSV, JSON, Excel

**Safety:**
- Never modifies source files
- Only writes to `/tmp/hands-ingest/`
- Validates data before import

### Default Agent

When you chat without `@`, you're using the default agent. It's a generalist that can:

- Write and run SQL
- Create dashboards and charts
- Build API routes
- Modify code
- Answer questions

## Creating Custom Agents

Define agents in `.opencode/agent/`:

```markdown
---
description: Customer support data analyst
mode: subagent
model: anthropic/claude-sonnet-4-20250514
temperature: 0.1
tools:
  read: true
  write: true
  sql: true
permission:
  write:
    "reports/*": "allow"
    "*": "deny"
---

You are a customer support analyst. Your job is to:

1. Analyze support ticket data
2. Identify trends and patterns
3. Generate reports

Focus on actionable insights. Always include:
- Summary statistics
- Notable trends
- Recommendations

Use only the reports/ directory for output files.
```

## Agent Configuration

### Basic Fields

```yaml
---
description: Brief description shown in UI
mode: subagent     # or "main"
model: provider/model-id
temperature: 0.7   # 0.0 to 1.0
---
```

### Tool Access

Enable/disable specific tools:

```yaml
tools:
  read: true      # Read files
  write: true     # Write files
  edit: true      # Edit files
  bash: true      # Run commands
  sql: true       # Database queries
  webfetch: false # No web access
```

### Permissions

Fine-grained access control:

```yaml
permission:
  write:
    "src/*": "allow"
    "config/*": "deny"
    "*": "deny"
  bash:
    "npm *": "allow"
    "rm *": "deny"
  sql:
    "SELECT *": "allow"
    "DROP *": "deny"
```

## Agent Use Cases

### Data Pipeline Agent

```markdown
---
description: ETL pipeline manager
tools:
  sql: true
  read: true
  write: true
permission:
  sql:
    "*": "allow"
---

You manage ETL pipelines. When asked to sync data:
1. Check source table status
2. Run transformations
3. Validate output
4. Report statistics
```

### Report Generator

```markdown
---
description: Weekly report generator
model: anthropic/claude-sonnet-4-20250514
tools:
  sql: true
  write: true
---

Generate weekly reports. Include:
- Executive summary
- Key metrics with week-over-week change
- Visualizations
- Recommendations

Output as Markdown to reports/ directory.
```

### Schema Designer

```markdown
---
description: Database schema expert
tools:
  sql: true
  read: true
---

You design database schemas. When asked about data modeling:
1. Understand the use case
2. Propose normalized schema
3. Consider indexes and constraints
4. Document relationships

Always explain your design decisions.
```

## Agent Best Practices

<AccordionGroup>
  <Accordion title="Keep agents focused">
    Each agent should do one thing well. Create multiple specialized agents rather than one that does everything.
  </Accordion>

  <Accordion title="Limit permissions">
    Only grant the permissions an agent needs. This prevents accidents and keeps your data safe.
  </Accordion>

  <Accordion title="Write clear instructions">
    Be specific about what the agent should and shouldn't do. Include examples of expected behavior.
  </Accordion>

  <Accordion title="Choose the right model">
    - Fast tasks → Claude Sonnet
    - Complex analysis → Claude Opus
    - Cost-sensitive → Claude Haiku
  </Accordion>
</AccordionGroup>

## Next Steps

<CardGroup cols={2}>
  <Card title="AI Tools" icon="wrench" href="/ai/tools">
    What capabilities agents have
  </Card>
  <Card title="Chat" icon="message" href="/ai/chat">
    Back to basic chat
  </Card>
</CardGroup>
