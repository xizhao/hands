<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Editor Demo - Oplog WYSIWYG</title>
    <!-- Import map for React singleton - ensures all React imports (including cross-origin 
         RSC client components from runtime) use the same React instance -->
    <script type="importmap">
    {
      "imports": {
        "react": "/demo/shared-react.ts",
        "react-dom": "/demo/shared-react.ts",
        "react-dom/client": "/demo/shared-react.ts",
        "react/jsx-runtime": "/demo/shared-react.ts",
        "react/jsx-dev-runtime": "/demo/shared-react.ts"
      }
    }
    </script>
    <style>
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
        background: #1a1a1a;
        color: #e0e0e0;
      }
    </style>
    <!-- Webpack shims for react-server-dom-webpack Flight client -->
    <script>
      // Minimal webpack require shim for Flight wire format parsing
      // These are needed by react-server-dom-webpack/client to resolve module references
      globalThis.__webpack_require__ = function(id) {
        // Return a minimal server component placeholder
        // Real components are rendered server-side; this is just for reference resolution
        return {
          default: function ServerComponent(props) {
            return props.children || null;
          }
        };
      };
      globalThis.__webpack_chunk_load__ = function(id) {
        // Chunk loading is not needed for Flight parsing
        return Promise.resolve();
      };
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="./main.tsx"></script>
  </body>
</html>
